#
# Copyright (C) 2025-2026 Frode Randers
# All rights reserved
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

##############  directive definitions ############################
"""
@datatypeRegistry annotates an enum, marking it as being definitions
of basic data types (using the @datatype directive). These basic data
types are not configurable as such -- they are inherent and known to
the system -- but they need to be referable in the schema.

All of the following attributes are defined using these basic data types.
"""
directive @datatypeRegistry on ENUM
directive @datatype(id: Int) on ENUM_VALUE

"""
@attributeRegistry annotates an enum, marking it as being definitions
of attributes (using the @attribute directive).

All of the following types are defined using these attributes.
"""
directive @attributeRegistry on ENUM
directive @attribute(
    datatype: DataTypes!
    array:    Boolean = true # is capable of handling arrays
    name:     String = null
    uri:      String = null
    description: String = null
) on ENUM_VALUE

"""
@unit annotates identifiable units that consists of attributes
(i.e. fields defined using the @use directive) that are defined
in the @attributeRegistry.

@record annotates bundles of attributes that can be combined in
various ways to represent compounds, such as an address. Records
are used to define units.
"""
directive @use(attribute: Attributes!) on FIELD_DEFINITION
directive @unit(name: String) on OBJECT
directive @record(attribute: Attributes!) on OBJECT

##############  basic data types ############################
enum DataTypes @datatypeRegistry {
    STRING    @datatype(id: 1)
    TIME      @datatype(id: 2)
    INTEGER   @datatype(id: 3)
    LONG      @datatype(id: 4)
    DOUBLE    @datatype(id: 5)
    BOOLEAN   @datatype(id: 6)
    DATA      @datatype(id: 7)
    RECORD    @datatype(id: 99)
}
